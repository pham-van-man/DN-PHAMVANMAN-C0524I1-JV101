<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<center>
    <form>
        <h1>Add New Product</h1>
        <input id="newId" placeholder="new id" type="text">
        <input id="newName" placeholder="new name" type="text">
        <input id="newPrice" placeholder="new price" type="text">
        <input type="button" value="add" onclick="addNewProduct()">
        <h1>All Product</h1>
        <table>
            <tr>
                <th><p>Product Name</p></th>
                <th>
                    <p><span id="numberProduct"></span> Products</p>
                </th>
            </tr>
        </table>
        <table id="listProduct">
        </table>
    </form>
</center>
<script>
    class Product {
        constructor(id, name, price) {
            this.id = id;
            this.name = name;
            this.price = price;
        }
    }

    let listProduct = [
        new Product(1, 'samsung', 100),
        new Product(2, 'iphone', 100),
        new Product(3, 'xiaochaomeng', 100)
    ];
    displayProduct();

    function displayProduct() {
        let tableString = `<tr>
                                <th>STT</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>PRICE</th>
                                <th>Edit</th>
                                <th>Delete</th>
                           </tr>`;
        for (let i = 0; i < listProduct.length; i++) {
            tableString += `<tr>
                                <td>${i + 1}</td>
                                <td>${listProduct[i].id}</td>
                                <td>${listProduct[i].name}</td>
                                <td>${listProduct[i].price}</td>
                                <td><button onclick="editt(${i})">Edit</button></td>
                                <td><button onclick="deletee(${i})">Delete</button></td>
                            </tr>`
        }
        document.getElementById("listProduct").innerHTML = tableString;
        document.getElementById('numberProduct').innerHTML = listProduct.length;
    }

    function addNewProduct() {
        let newId = document.getElementById('newId').value;
        let newName = document.getElementById('newName').value;
        let newPrice = document.getElementById('newPrice').value;
        let newProduct = new Product(newId, newName, newPrice);
        listProduct.push(newProduct);
        displayProduct();
        document.getElementById('numberProduct').innerHTML = listProduct.length;
        document.getElementById("newProduct").value = '';
    }

    function editt(i) {
        let newId = prompt("nhap id moi");
        let newName = prompt("nhap ten moi");
        let newPrice = prompt("nhap gia moi");
        let editProduct = new Product(newId, newName, newPrice);
        listProduct.splice(i, 1, editProduct)
        displayProduct();
    }

    function deletee(i) {
        if (confirm('ban muon xoa :' + listProduct[i].name + ' that khong?')) {
            listProduct.splice(i, 1);
        }
        displayProduct();
    }
</script>
</body>
</html>